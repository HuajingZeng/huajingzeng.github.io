<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=11,IE=10,IE=9,IE=8" >
    <meta name="baidu-site-verification" content="dIcXMeY8Ya" />
    
    <title>代码版本管理工具 | 曾华经</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" >
    <meta name="keywords" content="iOS, Web" >
    <meta name="description" content="曾华经个人博客" >

    
    <link rel="alternative" href="/atom.xml" title="曾华经" type="application/atom+xml" >
    
    
    <link rel="shortcut icon" href="/favicon.ico" >
    
    <link rel="stylesheet" href="/css/style.css">
    <!--[if lt IE 9]>
    <script src="/js/html5.js"></script>
    <![endif]-->
    
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?fd459238242776d173cdc64918fb32f2";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>


</head>

<body class="home">
    <!--[if lt IE 9]>
    <div class="browsehappy">
        当前网页 <strong>不支持</strong>
        你正在使用的浏览器. 为了正常的访问, 请 <a href="http://browsehappy.com/">升级你的浏览器</a>.
    </div>
    <![endif]-->

    <!-- 博客头部 -->
    <header class="header">
    <section class="container header-main">
        <div class="logo">
            <a href="/">
                <div class="cover">
                    <span class="name">曾华经</span>
                    <span class="description">iOS Programmer</span>
                </div>
            </a>
        </div>
        <div class="dropnav icon-paragraph-justify" id="JELON__btnDropNav"></div>
        <ul class="menu hidden" id="JELON__menu">
            
            <li rel="/post/代码版本管理工具/index.html" class="item ">
                <a href="/" title="首页" class="icon-home">&nbsp;首页</a>
            </li>
            
            <li rel="/post/代码版本管理工具/index.html" class="item ">
                <a href="/lab/" title="项目" class="icon-lab">&nbsp;项目</a>
            </li>
            
            <li rel="/post/代码版本管理工具/index.html" class="item ">
                <a href="/about/" title="关于" class="icon-about">&nbsp;关于</a>
            </li>
            
            <li rel="/post/代码版本管理工具/index.html" class="item ">
                <a href="/comment/" title="留言" class="icon-comment">&nbsp;留言</a>
            </li>
            
        </ul>
        <div class="profile clearfix">
            <div class="feeds fl">
                
                
                <p class="links">
                    
                        <a href="https://github.com/HuajingZeng" target="_blank">Github</a>
                        |
                    
                        <a href="https://github.com" target="_blank">Hosted by Github Pages</a>
                        
                    
                </p>
                <p class="sns">
                    
                        <a href="https://weibo.com/p/1005051288040665/home?from=page_100505&amp;mod=TAB#place" class="sinaweibo" target="_blank"><b>■</b> 新浪微博</a>
                    
                        <a href="" class="qqweibo" target="_blank"><b>■</b> Facebook</a>
                    
                    <a href="javascript: void(0);" class="wechat">
                        <b>■</b>
                        公众号
                        <span class="popover">
                            <img src="/img/wechat_mp.jpg" width="120" height="120" alt="我的微信订阅号">
                            <i class="arrow"></i>
                        </span>
                    </a>
                </p>
                
            </div>
            <div class="avatar fr">
                <img src="/img/zhj.jpg" alt="avatar" title="曾华经" >
            </div>
        </div>
    </section>
</header>


    <!-- 博客正文 -->
    <div class="container body clearfix">
        <section class="content">
            <div class="content-main widget">
                <!-- 文章页 -->
<!-- 目录内容 -->

    <p class="show-toc-btn" id="show-toc-btn" onclick="showToc();" style="display:block">
    <span class="btn-text">文章导航</span>
    </p>
    <div id="toc-article" class="toc-article" style="display:none">
        <span id="toc-close" class="toc-close" title="隐藏导航" onclick="showBtn();">×</span>
        <strong class="toc-title">文章目录</strong>
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#关于版本控制"><span class="toc-number">1.</span> <span class="toc-text">关于版本控制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#本地版本控制系统"><span class="toc-number">1.1.</span> <span class="toc-text">本地版本控制系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#集中化的版本控制系统"><span class="toc-number">1.2.</span> <span class="toc-text">集中化的版本控制系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分布式版本控制系统"><span class="toc-number">1.3.</span> <span class="toc-text">分布式版本控制系统</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Git"><span class="toc-number">2.</span> <span class="toc-text">Git</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#起步"><span class="toc-number">2.1.</span> <span class="toc-text">起步</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#存储方式"><span class="toc-number">2.1.1.</span> <span class="toc-text">存储方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#完整性和安全性"><span class="toc-number">2.1.2.</span> <span class="toc-text">完整性和安全性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件状态"><span class="toc-number">2.1.3.</span> <span class="toc-text">文件状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#工作流程"><span class="toc-number">2.1.4.</span> <span class="toc-text">工作流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用方式"><span class="toc-number">2.1.5.</span> <span class="toc-text">使用方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装"><span class="toc-number">2.2.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#配置"><span class="toc-number">2.3.</span> <span class="toc-text">配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#配置用户信息"><span class="toc-number">2.3.1.</span> <span class="toc-text">配置用户信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置文本编辑器"><span class="toc-number">2.3.2.</span> <span class="toc-text">配置文本编辑器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#检查配置信息"><span class="toc-number">2.3.3.</span> <span class="toc-text">检查配置信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#帮助"><span class="toc-number">2.3.4.</span> <span class="toc-text">帮助</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#基础"><span class="toc-number">2.4.</span> <span class="toc-text">基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#获取Git仓库"><span class="toc-number">2.4.1.</span> <span class="toc-text">获取Git仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#创建新仓库"><span class="toc-number">2.4.1.1.</span> <span class="toc-text">创建新仓库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#克隆现有仓库"><span class="toc-number">2.4.1.2.</span> <span class="toc-text">克隆现有仓库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#记录更新"><span class="toc-number">2.4.2.</span> <span class="toc-text">记录更新</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#检查当前文件状态"><span class="toc-number">2.4.2.1.</span> <span class="toc-text">检查当前文件状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#跟踪新文件"><span class="toc-number">2.4.2.2.</span> <span class="toc-text">跟踪新文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#暂存已修改文件"><span class="toc-number">2.4.2.3.</span> <span class="toc-text">暂存已修改文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#状态简览"><span class="toc-number">2.4.2.4.</span> <span class="toc-text">状态简览</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#忽略文件"><span class="toc-number">2.4.2.5.</span> <span class="toc-text">忽略文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#查看已暂存和未暂存的修改"><span class="toc-number">2.4.2.6.</span> <span class="toc-text">查看已暂存和未暂存的修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#提交更新"><span class="toc-number">2.4.2.7.</span> <span class="toc-text">提交更新</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#跳过使用暂存区域"><span class="toc-number">2.4.2.8.</span> <span class="toc-text">跳过使用暂存区域</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#移除文件"><span class="toc-number">2.4.2.9.</span> <span class="toc-text">移除文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#移动文件"><span class="toc-number">2.4.2.10.</span> <span class="toc-text">移动文件</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SVN"><span class="toc-number">3.</span> <span class="toc-text">SVN</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CVS"><span class="toc-number">4.</span> <span class="toc-text">CVS</span></a></li></ol>
   </div>
   <script type="text/javascript">
    function showToc(){
        var toc_article = document.getElementById("toc-article");
        var show_toc_btn = document.getElementById("show-toc-btn");
        toc_article.setAttribute("style","display:block");
        show_toc_btn.setAttribute("style","display:none");
        };
    function showBtn(){
        var toc_article = document.getElementById("toc-article");
        var show_toc_btn = document.getElementById("show-toc-btn");
        toc_article.setAttribute("style","display:none");
        show_toc_btn.setAttribute("style","display:block");
        };
   </script>
     
<!-- 目录内容结束 -->
<!-- 文章 -->
<article class="post article" onclick="showBtn();">
    <header class="text-center">
        <h3 class="post-title"><span>代码版本管理工具</span></h3>
    </header>
    <p class="post-meta text-center">
        曾华经&emsp;发表于
        <time datetime="2018-01-13T01:08:39.000Z">2018-01-13</time>&emsp;修改于
        <time datetime="2018-01-13T01:08:39.000Z">2018-01-13</time>
    </p>
    <div class="post-content">
        <p>&emsp;&emsp;Git是一个开源的分布式版本控制系统。<br>&emsp;&emsp;SVN（Subversion）是一个开源的集中式版本控制系统。<br>&emsp;&emsp;CVS（Concurrent Versions System）是一个开源的版本控制系统，已逐渐被SVN取代。</p>
<a id="more"></a>
<h1 id="关于版本控制"><a href="#关于版本控制" class="headerlink" title="关于版本控制"></a>关于版本控制</h1><blockquote>
<p>版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。</p>
</blockquote>
<h2 id="本地版本控制系统"><a href="#本地版本控制系统" class="headerlink" title="本地版本控制系统"></a>本地版本控制系统</h2><p><img src="https://githubblog-1252104787.cos.ap-guangzhou.myqcloud.com/%E6%9C%AC%E5%9C%B0%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6.png" alt="本地版本控制系统"></p>
<h2 id="集中化的版本控制系统"><a href="#集中化的版本控制系统" class="headerlink" title="集中化的版本控制系统"></a>集中化的版本控制系统</h2><p><img src="https://githubblog-1252104787.cos.ap-guangzhou.myqcloud.com/%E9%9B%86%E4%B8%AD%E5%8C%96%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6.png" alt="集中化的版本控制系统"></p>
<h2 id="分布式版本控制系统"><a href="#分布式版本控制系统" class="headerlink" title="分布式版本控制系统"></a>分布式版本控制系统</h2><p><img src="https://githubblog-1252104787.cos.ap-guangzhou.myqcloud.com/%E5%88%86%E5%B8%83%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6.png" alt="分布式版本控制系统"></p>
<h1 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h1><h2 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h2><h3 id="存储方式"><a href="#存储方式" class="headerlink" title="存储方式"></a>存储方式</h3><p>不同于其他版本控制系统，Git直接记录快照，而非差异比较</p>
<p><img src="https://githubblog-1252104787.cos.ap-guangzhou.myqcloud.com/%E5%AD%98%E5%82%A8%E6%AF%8F%E4%B8%AA%E6%96%87%E4%BB%B6%E4%B8%8E%E5%88%9D%E5%A7%8B%E7%89%88%E6%9C%AC%E7%9A%84%E5%B7%AE%E5%BC%82.png" alt=""></p>
<p><img src="https://githubblog-1252104787.cos.ap-guangzhou.myqcloud.com/%E5%AD%98%E5%82%A8%E9%A1%B9%E7%9B%AE%E9%9A%8F%E6%97%B6%E9%97%B4%E6%94%B9%E5%8F%98%E7%9A%84%E5%BF%AB%E7%85%A7.png" alt=""></p>
<h3 id="完整性和安全性"><a href="#完整性和安全性" class="headerlink" title="完整性和安全性"></a>完整性和安全性</h3><ul>
<li>所有数据在存储前都计算校验和，计算校验和的机制叫做SHA-1散列（hash，哈希）。这是一个由40个十六进制字符（0-9和a-f）组成字符串（如<code>1a0a05cf10a6630f23aa83ef2d61394f17c869</code>），基于文件的内容或目录结构计算出来。Git保存的信息都是以文件内容的哈希值来索引，而不是文件名。若你在传送过程中丢失信息或损坏文件，Git就能发现</li>
<li>执行的Git操作，几乎只往数据库中增加数据。很难执行任何不可逆操作，或者以任何方式清除数据（除非执行撤销操作）</li>
</ul>
<h3 id="文件状态"><a href="#文件状态" class="headerlink" title="文件状态"></a>文件状态</h3><ul>
<li>已提交（committed）：表示数据已经安全的保存在本地数据库中</li>
<li>已修改（modified）：修改了文件，但还没保存到数据库中</li>
<li>已暂存（staged）：对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中</li>
</ul>
<p><img src="https://githubblog-1252104787.cos.ap-guangzhou.myqcloud.com/%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95%E3%80%81%E6%9A%82%E5%AD%98%E5%8C%BA%E5%9F%9F%E4%BB%A5%E5%8F%8A%20Git%20%E4%BB%93%E5%BA%93.png" alt="工作目录、暂存区域以及 Git 仓库"></p>
<h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><ul>
<li>在工作目录中修改文件</li>
<li>暂存文件，将文件的快照放入暂存区域</li>
<li>提交更新，找到暂存区域的文件，将快照永久性存储到Git仓库目录</li>
</ul>
<h3 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h3><ul>
<li>命令行模式：终端（Mac）、命令窗口（Win）</li>
<li>GUI模式：Sourcetree(Mac)</li>
</ul>
<p><strong>PS：推荐使用命令行模式，因为只有在命令行模式下你才能执行Git的所有命令，而大多数的GUI软件只实现了Git所有功能的一个子集以降低操作难度</strong></p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>略</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>Git自带一个<code>git config</code>的工具来帮助设置控制Git外观和行为的配置变量。 这些变量存储在三个不同的位置：</p>
<ul>
<li><code>/etc/gitconfig</code>文件: 包含系统上每一个用户及他们仓库的通用配置。可以使用带有<code>--system</code>选项的<code>git config</code>对此文件进行读写和变量配置</li>
<li><code>~/.gitconfig</code>或<code>~/.config/git/config</code>文件：只针对当前用户。可以使用带有<code>--global</code>选项的<code>git config</code>对此文件进行读写和配置</li>
<li><code>.git/config</code>文件：只针对该Git仓库。</li>
</ul>
<p><strong>注意：每一个级别会覆盖上一级别的配置</strong></p>
<h3 id="配置用户信息"><a href="#配置用户信息" class="headerlink" title="配置用户信息"></a>配置用户信息</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git<span class="built_in"> config </span>--global user.name <span class="string">"Kevin Zeng"</span></span><br><span class="line">$ git<span class="built_in"> config </span>--global user.email zenghuajing@qq.com</span><br></pre></td></tr></table></figure>
<h3 id="配置文本编辑器"><a href="#配置文本编辑器" class="headerlink" title="配置文本编辑器"></a>配置文本编辑器</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git<span class="built_in"> config </span>--global core.editor vim</span><br></pre></td></tr></table></figure>
<h3 id="检查配置信息"><a href="#检查配置信息" class="headerlink" title="检查配置信息"></a>检查配置信息</h3><p>可以使用<code>git config --list</code>命令来列出所有Git当时能找到的配置。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git<span class="built_in"> config </span>--list</span><br></pre></td></tr></table></figure>
<p>可以通过输入<code>git config &lt;key&gt;</code>来检查Git的某一项配置</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git<span class="built_in"> config </span>user.name</span><br></pre></td></tr></table></figure>
<h3 id="帮助"><a href="#帮助" class="headerlink" title="帮助"></a>帮助</h3><p>使用以下方法获得帮助信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">help</span> &lt;verb&gt;</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git &lt;verb&gt; --<span class="built_in">help</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> man git-&lt;verb&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><h3 id="获取Git仓库"><a href="#获取Git仓库" class="headerlink" title="获取Git仓库"></a>获取Git仓库</h3><h4 id="创建新仓库"><a href="#创建新仓库" class="headerlink" title="创建新仓库"></a>创建新仓库</h4><p>在现有项目或目录下导入所有文件到Git中：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git init</span></span><br></pre></td></tr></table></figure>
<p>该命令将创建一个名为<code>.git</code>的子目录，这个子目录含初始化的Git仓库中所有的必须文件，这些文件是Git仓库的骨干。但是，在这个时候，项目里的文件还没有被跟踪。可通过<code>git add</code>命令来实现对指定文件的跟踪，然后执行<code>git commit</code>提交：</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">add</span><span class="bash"> *.[hm]</span></span><br><span class="line"><span class="bash">$ git add README</span></span><br><span class="line"><span class="bash">$ git commit -m <span class="string">'initial project version'</span></span></span><br></pre></td></tr></table></figure>
<h4 id="克隆现有仓库"><a href="#克隆现有仓库" class="headerlink" title="克隆现有仓库"></a>克隆现有仓库</h4><p>使用<code>git clone</code>命令获得一份已经存在了的Git仓库的拷贝。</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">clone</span> <span class="title">https</span>://github.com/HuajingZeng/huajingzeng.github.io</span><br></pre></td></tr></table></figure>
<p>这会在当前目录下创建一个名为“huajingzeng.github.io”的目录，并在这个目录下初始化一个<code>.git</code>文件夹，从远程仓库拉取下所有数据放入<code>.git</code>文件夹，然后从中读取最新版本的文件的拷贝。你也可以在克隆远程仓库的时候，自定义本地仓库的名字，比如：</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">clone</span> <span class="title">https</span>://github.com/HuajingZeng/huajingzeng.github.io githubblog</span><br></pre></td></tr></table></figure>
<p><strong>Git支持多种数据传输协议：</strong></p>
<ul>
<li><a href="https://协议" target="_blank" rel="noopener">https://协议</a></li>
<li>git://协议</li>
<li>SSH传输协议，比如 user@server:path/to/repo.git</li>
</ul>
<h3 id="记录更新"><a href="#记录更新" class="headerlink" title="记录更新"></a>记录更新</h3><p><img src="https://githubblog-1252104787.cos.ap-guangzhou.myqcloud.com/%E6%96%87%E4%BB%B6%E7%9A%84%E7%8A%B6%E6%80%81%E5%8F%98%E5%8C%96%E5%91%A8%E6%9C%9F.png" alt="文件的状态变化周期"></p>
<h4 id="检查当前文件状态"><a href="#检查当前文件状态" class="headerlink" title="检查当前文件状态"></a>检查当前文件状态</h4><p>要查看哪些文件处于什么状态，可以用<code>git status</code>命令</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch <span class="literal">master</span></span><br><span class="line">nothing to commit, working directory clean</span><br></pre></td></tr></table></figure>
<h4 id="跟踪新文件"><a href="#跟踪新文件" class="headerlink" title="跟踪新文件"></a>跟踪新文件</h4><p>使用命令<code>git add (file)</code>开始跟踪一个文件</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">add</span><span class="bash"> README</span></span><br></pre></td></tr></table></figure>
<p><strong>注意：<code>git add</code>命令使用文件或目录的路径作为参数，如果参数是目录的路径，该命令将递归地跟踪该目录下的所有文件</strong></p>
<h4 id="暂存已修改文件"><a href="#暂存已修改文件" class="headerlink" title="暂存已修改文件"></a>暂存已修改文件</h4><p><code>git add</code>是个多功能命令：可以用它开始跟踪新文件，或者把已跟踪的文件放到暂存区，还能用于合并时把有冲突的文件标记为已解决状态等。将这个命令理解为“添加内容到下一次提交中”而不是“将一个文件添加到项目中”要更加合适。</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">add</span><span class="bash"> main.m</span></span><br></pre></td></tr></table></figure>
<h4 id="状态简览"><a href="#状态简览" class="headerlink" title="状态简览"></a>状态简览</h4><p><code>git status</code>命令的输出十分详细，但其用语有些繁琐。可以使用<code>git status -s</code>命令或<code>git status --short</code>命令得到更为紧凑的格式输出</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git status -<span class="built_in">s</span></span><br><span class="line"> <span class="keyword">M</span> text.c</span><br><span class="line">MM main.<span class="built_in">m</span></span><br><span class="line">A  marco.<span class="built_in">h</span></span><br><span class="line"><span class="keyword">M</span>  README</span><br><span class="line">?? a.<span class="keyword">out</span></span><br></pre></td></tr></table></figure>
<p>新添加的未跟踪文件前面有<code>??</code>标记，新添加到暂存区中的文件前面有<code>A</code>标记，修改过的文件前面有<code>M</code>标记。 你可能注意到了<code>M</code>有两个可以出现的位置，出现在右边的<code>M</code>表示该文件被修改了但是还没放入暂存区，出现在靠左边的<code>M</code>表示该文件被修改了并放入了暂存区。</p>
<h4 id="忽略文件"><a href="#忽略文件" class="headerlink" title="忽略文件"></a>忽略文件</h4><p>一般我们总会有些文件无需纳入Git的管理，也不希望它们总出现在未跟踪文件列表。在这种情况下，我们可以创建一个名为<code>.gitignore</code>的文件，列出要忽略的文件模式。文件<code>.gitignore</code>的格式规范如下：</p>
<ul>
<li>所有空行或者以<code>＃</code>开头的行都会被Git忽略</li>
<li>可以使用标准的<code>glob</code>模式匹配</li>
<li>匹配模式可以以<code>/</code>开头防止递归</li>
<li>匹配模式可以以<code>/</code>结尾指定目录</li>
<li>要忽略指定模式以外的文件或目录，可以在模式前加上惊叹号<code>!</code>取反</li>
</ul>
<p>所谓的<code>glob</code>模式是指shell所使用的简化了的正则表达式（参见<a href="http://www.huajingzeng.com/post/%E7%A5%9E%E5%85%B5%E5%88%A9%E5%99%A8%E4%B9%8B%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" target="_blank" rel="noopener">神兵利器之正则表达式</a>）</p>
<p><strong>GitHub有一个十分详细的针对数十种项目及语言的<code>.gitignore</code>文件列表，你可以在<a href="https://github.com/github/gitignore" target="_blank" rel="noopener">https://github.com/github/gitignore</a>找到它</strong></p>
<h4 id="查看已暂存和未暂存的修改"><a href="#查看已暂存和未暂存的修改" class="headerlink" title="查看已暂存和未暂存的修改"></a>查看已暂存和未暂存的修改</h4><p>可以用<code>git diff</code>命令查看具体修改了什么地方</p>
<ul>
<li>要查看尚未暂存的文件更新了哪些部分，不加参数直接输入<code>git diff</code></li>
<li>若要查看已暂存的将要添加到下次提交里的内容，可以用<code>git diff --cached</code>命令（Git 1.6.1 及更高版本还允许使用<code>git diff --staged</code>，效果是相同的，但更好记些）</li>
</ul>
<p><strong>如果你喜欢通过图形化的方式或其它格式输出方式的话，可以使用<code>git difftool</code>命令来用 Araxis，emerge或vimdiff等软件输出diff分析结果。使用<code>git difftool --tool-help</code>命令来看你的系统支持哪些Git Diff插件</strong></p>
<h4 id="提交更新"><a href="#提交更新" class="headerlink" title="提交更新"></a>提交更新</h4><p>运行提交命令<code>git commit</code>会启动文本编辑器以便输入本次提交的说明。(默认会启用shell的环境变量&#36;EDITOR所指定的软件，一般都是vim或emacs。当然也可以使用<code>git config --global core.editor</code>命令设定你喜欢的编辑软件）。另外，也可以在<code>git commit</code>命令后添加<code>-m</code>选项，将提交信息与命令放在同一行</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="keyword">commit</span> -m <span class="string">"Modify and add files."</span></span><br><span class="line">[<span class="keyword">master</span> <span class="number">463</span>dc4f] <span class="keyword">Modify</span> <span class="keyword">and</span> <span class="keyword">add</span> files.</span><br><span class="line"> <span class="number">2</span> files <span class="keyword">changed</span>, <span class="number">2</span> insertions(+)</span><br><span class="line"> <span class="keyword">create</span> <span class="keyword">mode</span> <span class="number">100644</span> README</span><br></pre></td></tr></table></figure>
<p>提交后它会告诉你，当前是在哪个分支（master）提交的，本次提交的完整SHA-1校验和是什么（463dc4f），以及在本次提交中，有多少文件修订过，多少行添加和删改过等信息。</p>
<p><strong>注意：每次准备提交前，先用<code>git status</code>看下，是不是都已暂存起来了，然后再使用<code>git commit</code>提交。提交时记录的是放在暂存区域的快照。任何还未暂存的仍然保持已修改状态，可以在下次提交时纳入版本管理。</strong></p>
<h4 id="跳过使用暂存区域"><a href="#跳过使用暂存区域" class="headerlink" title="跳过使用暂存区域"></a>跳过使用暂存区域</h4><p>只要在提交的时候，给<code>git commit</code>加上<code>-a</code>选项，Git就会，自动把所有已经跟踪过的文件暂存起来一并提交，从而跳过<code>git add</code>步骤（即跳过使用暂存区域的方式）</p>
<h4 id="移除文件"><a href="#移除文件" class="headerlink" title="移除文件"></a>移除文件</h4><p>要从Git中移除某个文件，就必须要从已跟踪文件清单中移除（确切地说，是从暂存区域移除），然后提交。可以用<code>git rm</code>命令完成此项工作，并连带从工作目录中删除指定的文件，这样以后就不会出现在未跟踪文件清单中了。</p>
<p>如果只是简单地从工作目录中手工删除文件，运行<code>git status</code>时就会在“Changes not staged for commit” 部分（也就是未暂存清单）看到提示信息：</p>
<figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ rm PROJECTS.md</span><br><span class="line">$ git status</span><br><span class="line"><span class="keyword">On</span> branch master</span><br><span class="line">Your branch <span class="keyword">is</span> up-<span class="keyword">to</span>-date <span class="keyword">with</span> <span class="symbol">'origin</span>/master'.</span><br><span class="line">Changes <span class="keyword">not</span> staged <span class="keyword">for</span> commit:</span><br><span class="line">  (<span class="keyword">use</span> <span class="string">"git add/rm &lt;file&gt;..."</span> <span class="keyword">to</span> update what will be committed)</span><br><span class="line">  (<span class="keyword">use</span> <span class="string">"git checkout -- &lt;file&gt;..."</span> <span class="keyword">to</span> discard changes <span class="keyword">in</span> working directory)</span><br><span class="line"></span><br><span class="line">        deleted:    PROJECTS.md</span><br><span class="line"></span><br><span class="line">no changes added <span class="keyword">to</span> commit (<span class="keyword">use</span> <span class="string">"git add"</span> <span class="keyword">and</span>/<span class="keyword">or</span> <span class="string">"git commit -a"</span>)</span><br></pre></td></tr></table></figure>
<p>然后再运行<code>git rm</code>记录此次移除文件的操作：</p>
<figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git rm PROJECTS.md</span><br><span class="line">rm <span class="symbol">'PROJECTS</span>.md'</span><br><span class="line">$ git status</span><br><span class="line"><span class="keyword">On</span> branch master</span><br><span class="line">Changes <span class="keyword">to</span> be committed:</span><br><span class="line">  (<span class="keyword">use</span> <span class="string">"git reset HEAD &lt;file&gt;..."</span> <span class="keyword">to</span> unstage)</span><br><span class="line"></span><br><span class="line">    deleted:    PROJECTS.md</span><br></pre></td></tr></table></figure>
<p>如果删除之前修改过并且已经放到暂存区域的话，则必须要用强制删除选项<code>-f</code>（译注：即force的首字母）。这是一种安全特性，用于防止误删还没有添加到快照的数据，这样的数据不能被Git恢复。</p>
<p>另外一种情况是，我们想把文件从Git仓库中删除（亦即从暂存区域移除），但仍然希望保留在当前工作目录中使用<code>--cached</code>选项</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git rm --cached README</span></span><br></pre></td></tr></table></figure>
<h4 id="移动文件"><a href="#移动文件" class="headerlink" title="移动文件"></a>移动文件</h4><p>Git并不显式跟踪文件移动操作。如果在Git中重命名了某个文件，仓库中存储的元数据并不会体现出这是一次改名操作。要在Git中对文件改名，可以这么做：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git mv file_from file_to</span></span><br></pre></td></tr></table></figure>
<p>其实，运行<code>git mv</code>就相当于运行了下面三条命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mv README.md README</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git rm README.md</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add README</span></span><br></pre></td></tr></table></figure>
<p><strong>注意：直接用<code>git mv</code>轻便得多。不过有时候用其他工具批处理改名的话，要记得在提交前删除老的文件名，再添加新的文件名</strong></p>
<h1 id="SVN"><a href="#SVN" class="headerlink" title="SVN"></a>SVN</h1><h1 id="CVS"><a href="#CVS" class="headerlink" title="CVS"></a>CVS</h1><p><strong>欢迎转载，转载请注明出处：<a href="http://www.huajingzeng.com" target="_blank" rel="noopener">曾华经的博客</a></strong></p>

    </div>
    <p class="post-meta">
        <span class="post-cat">分类：
            <a class="cat-link" href="/categories/编程基础/">编程基础</a>|<a class="cat-link" href="/categories/编程基础/开发工具/">开发工具</a>
        </span>
        <span class="post-tags">
            标签：
            
    
        <a href="/tags/Git/" title="Git">Git</a> / 
    
        <a href="/tags/SVN/" title="SVN">SVN</a> / 
    
        <a href="/tags/CVS/" title="CVS">CVS</a>
    

        </span>
    </p>
</article>
<!-- 分享按钮 -->

  <div class="article-share clearfix text-center">
    <div class="share-area">
      <span class="share-txt">分享到：</span>
      <a href="javascript: window.open('http://service.weibo.com/share/share.php?url=' + encodeURIComponent(location.href) + '&title=' + document.title + '&language=zh_cn');" class="share-icon weibo"></a>
      <a href="javascript: alert('请复制链接到微信并发送');" class="share-icon wechat"></a>
      <!-- <a href="javascript: window.open('http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=' + encodeURIComponent(location.href) + '&title=' + document.title);" class="share-icon qqzone"></a> -->
      <a href="javascript: window.open('http://connect.qq.com/widget/shareqq/index.html?url=' + encodeURIComponent(location.href) + '&title=' + document.title + '&callback=' + encodeURIComponent(location.href));" class="share-icon qq"></a>
      <a href="javascript: window.open('http://shuo.douban.com/!service/share?href=' + encodeURIComponent(location.href) + '&name=' + document.title + '&text=' + document.title);" class="share-icon douban"></a>
    </div>
  </div>


<!-- 上一篇/下一篇 -->

<div class="article-nav clearfix">
    
    <span class="prev fl">
        上一篇<br >
        <a href="/post/iOS修炼之道/">
            
                iOS修炼之道
            
        </a>
    </span>
    

    
    <span class="next fr">
        下一篇<br >
        <a href="/post/神兵利器之正则表达式/">
            
                神兵利器之正则表达式
            
        </a>
    </span>
    
</div>

<!-- 文章评论 -->

  <script src="/js/comment.js"></script>
  <div id="comments" class="comment">
    <!--
    <div class="sign-bar">
      GitHub 已登录!
      <span class="sign-link">登出</span>
    </div>
    <section class="box">
      <div class="com-avatar"><img src="/img/zhj.jpg" alt="avatar"></div>
      <div class="com-text">
        <div class="main">
          <textarea class="text-area-edited show" placeholder="欢迎评论！"></textarea>
          <div class="text-area-preview"></div>
        </div>
        <div class="switch">
          <div class="switch-item on">编辑</div>
          <div class="switch-item">预览</div>
        </div>
        <div class="button">提交</div>
      </div>
    </section>
    <section class="tips">注：评论支持 markdown 语法！</section>
    <section class="list-wrap">
      <ul class="list">
        <li>
          <div class="user-avatar">
            <a href="/">
              <img src="/img/zhj.jpg" alt="user-avatar">
            </a>
          </div>
          <div class="user-comment">
            <div class="user-comment-header">
              <span class="post-name">张德龙</span>
              <span class="post-time">2017年12月12日</span>
              <span class="like liked">已赞</span>
              <span class="like-num">2</span>
            </div>
            <div class="user-comment-body">333333</div>
          </div>
        </li>
        <li>
          <div class="user-avatar">
            <a href="/">
              <img src="/img/zhj.jpg" alt="user-avatar">
            </a>
          </div>
          <div class="user-comment">
            <div class="user-comment-header">
              <span class="post-name">刘德华</span>
              <span class="post-time">2017年12月12日</span>
              <span class="like">点赞</span>
              <span class="like-num">2</span>
            </div>
            <div class="user-comment-body">vvvvv</div>
          </div>
        </li>
      </ul>
      <div class="page-nav">
        <a href="javascript: void(0);" class="item">1</a>
        <a href="javascript: void(0);" class="item">2</a>
        <a href="javascript: void(0);" class="item current">3</a>
      </div>
    </section>
    -->
  </div>
  <script>
  JELON.Comment({
    container: 'comments',
    label: '代码版本管理工具' || 'post/代码版本管理工具/',
    owner: 'HuajingZeng',
    repo: 'huajingzeng.github.io_comments',
    clientId: '7ae3915c563a60d41451',
    clientSecret: '2abefe41031e15eabf12a828f30fd380487fb738'
  });
  </script>


            </div>

        </section>
        <!-- 侧栏部分 -->
<aside class="sidebar">
    <section class="widget">
        <h3 class="widget-hd"><strong>文章分类</strong></h3>
        <!-- 文章分类 -->
<ul class="widget-bd">
    
    <li>
        <a href="/categories/编程基础/">编程基础</a>
        <span class="badge">(7)</span>
    </li>
    
    <li>
        <a href="/categories/程序人生/">程序人生</a>
        <span class="badge">(2)</span>
    </li>
    
    <li>
        <a href="/categories/编程基础/开发工具/">开发工具</a>
        <span class="badge">(3)</span>
    </li>
    
</ul>
    </section>

    
    <section class="widget">
        <h3 class="widget-hd"><strong>热门标签</strong></h3>
        <!-- 文章标签 -->
<div class="widget-bd tag-wrap">
  
    <a class="tag-item" href="/tags/面向对象/" title="面向对象">面向对象 (1)</a>
  
    <a class="tag-item" href="/tags/设计原则/" title="设计原则">设计原则 (1)</a>
  
    <a class="tag-item" href="/tags/设计模式/" title="设计模式">设计模式 (1)</a>
  
    <a class="tag-item" href="/tags/随笔/" title="随笔">随笔 (1)</a>
  
    <a class="tag-item" href="/tags/Shell/" title="Shell">Shell (2)</a>
  
    <a class="tag-item" href="/tags/iOS/" title="iOS">iOS (2)</a>
  
    <a class="tag-item" href="/tags/程序员/" title="程序员">程序员 (1)</a>
  
    <a class="tag-item" href="/tags/书籍/" title="书籍">书籍 (1)</a>
  
    <a class="tag-item" href="/tags/代码大全/" title="代码大全">代码大全 (1)</a>
  
    <a class="tag-item" href="/tags/核对表/" title="核对表">核对表 (1)</a>
  
    <a class="tag-item" href="/tags/Git/" title="Git">Git (1)</a>
  
    <a class="tag-item" href="/tags/SVN/" title="SVN">SVN (1)</a>
  
    <a class="tag-item" href="/tags/CVS/" title="CVS">CVS (1)</a>
  
    <a class="tag-item" href="/tags/正则表达式/" title="正则表达式">正则表达式 (1)</a>
  
</div>
    </section>
    

    

    
    <!-- 友情链接 -->
    <section class="widget">
        <h3 class="widget-hd"><strong>友情链接</strong></h3>
        <!-- 文章分类 -->
<ul class="widget-bd">
    
        <li>
            <a href="https://stackoverflow.com/" target="_blank" title="Stack Overflow">Stack Overflow</a>
        </li>
    
        <li>
            <a href="http://nshipster.cn/" target="_blank" title="NSHipster">NSHipster</a>
        </li>
    
        <li>
            <a href="http://www.sdifen.com/" target="_blank" title="史蒂芬周的博客">史蒂芬周的博客</a>
        </li>
    
        <li>
            <a href="http://www.orsoon.com/" target="_blank" title="未来软件园">未来软件园</a>
        </li>
    
</ul>
    </section>
    
</aside>
<!-- / 侧栏部分 -->
    </div>

    <!-- 博客底部 -->
    <footer class="footer">
    &copy;
    
        2016-2018
    

    <a href="/">曾华经</a>
</footer>
<div class="back-to-top" id="JELON__backToTop" title="返回顶部">返回顶部</div>

    <!--博客js脚本 -->
    <!-- 这里放网站js脚本 -->
<script src="/js/main.js"></script>
</body>
</html>